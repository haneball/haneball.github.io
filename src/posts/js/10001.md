---
lang: zh-CN
title: 实现 Function 的原生方法
category:
    - JavaScript
tag:
    - 原生方法
order: 1
---

## bind 方法

1. 挂载到 `Function` 的原型 `prototype` 上
2. 参数有 `that` 和原函数的参数 `args`
3. 支持衔接后续传入的参数 `otherArgs`，如 `foo.myBind(obj, 1, 2)(3)`

```js
Function.prototype.myBind = function(that, ...args) {
    that = Object(that)
    const _self = this

    return function(...otherArgs) {
        return _self.apply(that, args.concat(otherArgs))
    }
}
```

<!-- more -->

## call 方法

1. 挂载到 `Function` 的原型 `prototype` 上
2. 参数有 `that` 和原函数的其他参数 `args`
3. 若 `that` 为 `undefined`，则赋值全局对象

````js
Function.prototype.myCall = function(that, ...args) {
    if (that) {
        that = Object(that)
    } else {
        that = typeof window !== 'undefined' ? window : global
    }

    that._fn = this
    const result = that._fn(...args)
    delete that._fn

    return result
}
````

## apply 方法

1. 挂载到 `Function` 的原型 `prototype` 上
2. 参数有 `that` 和原函数的参数数组 `args`
3. 若 `that` 为 `undefined`，则赋值全局对象

```js
Function.prototype.myApply = function(that, args) {
    if (that) {
        that = Object(that)
    } else {
        that = typeof window !== 'undefined' ? window : global
    }

    that._fn = this
    let result

    if (args) {
        result = that._fn(...args)
    } else {
        result = that._fn()
    }

    delete that._fn

    return result
}
```
